# **Инструкция по работе с Git**

## Что такое Git
Что же такое Git, если говорить коротко? 
Когда пишешь код, легко что-то сломать или испортить. Чтобы этого избежать, используют системы контроля версий для хранения истории версий кода. Git ― один из вариантов такой системы.

Git — это специальная программа, которая позволяет отслеживать любые изменения в файлах, хранить их версии и оперативно возвращаться в любое сохранённое состояние.

Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года.

Git может быть **локальным, централизованным или распределённым:**

●   **Локальный** установлен на одном компьютере и хранит файлы только в одном экземпляре в рамках настроенного окружения — подходит, если программист пишет код в одиночку.

●   **Централизованный** находится на общем севере и хранит все файлы на нем.

●   **Распределённый** хранит данные и в общем облачном хранилище, и в устройствах участников команды.

**Удобство и гибкость сделали Git стандартом для большинства современных IT-компаний. Поэтому умение работать с ним критично для любого программиста.**

# Git. Установка.

1. **Скачайте установочный файл.**

Перейдите по ссылке [Git](https://git-scm.com/downloads). Скачивание установочного exe-файла для вашей операционной системы должно начаться автоматически. Если этого не произошло, нажмите на ссылку “_click here to download manually_”. 

![website.png](website.png)

2. **Запустите скачанный на предыдущем шаге exe-файл.**

Дождитесь появления экрана установки, ее завершения и нажмите кнопку ***Next***.

3. **Проверка установки.**

Откройте программу Terminal и вбейте команду git --version, если вы увидели версию (как на скриншоте ниже), то установка прошла успешно.

![check.jpg](check.jpg)
git
4. **Настройка Git.**

В git есть множество понятий, например — это коммит. Коммит сохраняет разность между предыдущим сохранением и новым сохранением. При сохранении коммита записываются мета-данные — информация о том, кто сделал коммит: имя автора и электронная почта. Эти данные очень важны в командной работе, они позволяют точно идентифицировать того, кто сделал коммит.

Настройка имени и электронной почты участника команды производится локально через консоль командами:

***git config --global user.name [имя пользователя];***

***git config --global user.email [электронная почта пользователя].***

При вводе электронной почты и имени пользователя git не возвращает никакого ответа, чтобы убедиться в правильности введенных данных можно выполнить команду: 
***config --list.***

![identification.png](identification.png)

Помимо настройки имени пользователя и электронной почты в конфигурационном файле git можно указать множество других настроек, таких как: шаблон коммита, текстовый редактор коммита, настройка ветки по умолчанию и многое другое.

# Основные термины и понятия при работе с системой Git:

**Репозиторий** — дерево изменений проекта.После создания нового репозитория дерево содержит только одну ветку — _master_. Ветка состоит из коммитов, расположенных в хронологическом порядке. Как правило, в ветке _master_ находятся проверенные и протестированные изменения.

**Ветка** — указатель на коммит.  На один коммит может указывать несколько веток. Как правило это случается при создании новой ветки из текущей. Например для реализации в ней новой задачи. По мере добавления коммитов — ветки будут расходится в разные стороны.

**Коммит** (от слова commit - фиксировать) — логическая единица изменений.Каждый из них имеет историю, уникальный ID и цепочку предшествующих коммитов. Можно «откатить» (отменить) изменения любого из коммитов. Для любого коммита из истории можно создать указатель, то есть ветку. 

**Индекс** — изменения, которые будут зафиксированы при следующем коммите.При этом, во время коммита, могут быть изменения, не добавленные в индекс — они не будут закоммичены. Их надо будет отдельно добавить в индекс и зафиксировать. Таким образом, можно вносить разом, все необходимые по мере работы, правки и фиксировать их логическими группами.

В первое время вам понадобятся только основные команды. 

Давайте рассмотрим их:

1. **git init — создает новый репозиторий**

2. **git status — отображает список измененных, добавленных и удаленных файлов**
3. **git branch — отображает список веток и активную среди них**

4. **git add — добавляет файл или файлы к следующему коммиту**

5. **git reset — удаляет указанные файлы из индекса**

6. **git commit — фиксирует добавленнные в индекс изменения**

7. **git checkout — переключает ветки**

8. **git merge — объединяет указанную ветку с активной**

9. **git log — выводит список последних коммитов**

10. **git branch -d branch_name - удаляет слитую ветку**

11. **git log - - graph - помогает увидеть лог коммитов с визуализацией между ними**

12. **git diff - команда показывает разницу между
текущей и уже зафиксированной версией
файла**.

## Примеры команд для работы с Git.

* Создайте новую папку для проекта на своем компьютере. 

Чтобы начать работу с Git, надо его инициализировать — открыть консоль, перейти в папку проекта и выполнить команду:

> git init

Эта команда создаст новый пустой репозиторий. 

Все остальные команды можно вызывать в корневой папке или в одной из вложенных.

* Теперь можно вносить изменения.

Список изменений можно увидеть выполнив команду:

> git status

В консоли появится список измененных файлов.

Добавьте файлы, изменения в которых вы хотите зафиксировать:

> git add file_name_a.php

Файлы можно указывать через пробел. 

Все файлы в данной папке и ее подпапках можно добавить командой:

> git add .

Будьте внимательны, эта команда не добавит новые файлы в индекс. Добавятся только модифицированные старые файлы и удаленные. Новые файлы можно добавить явно указав имя.

Добавить все новые и измененные файлы можно командой:

> git add -A

Изменения стоит фиксировать логическими блоками, то есть в одном коммите должны быть файлы связанные с решением одной конкретной ошибки или одной конкретной новой задачи.

Если вы добавили файл из другого логического блока, удалите его из индекса командой:

> git reset file_name_b.php

Зафиксируйте эти изменения в другом коммите. Так будет удобнее при просмотре истории изменений и отмене изменений.

Если вы случайно изменили не тот файл - верните его к последнему зафиксированному состоянию командой:

> git checkout file_name_c.php

Отменить изменения всех, ранее существующих, файлах в данной и вложенных папках можно командой:

> git checkout -- .

Ненужные новые файлы достаточно просто удалить. Или это можно сделать командой:

> git reset --hard HEAD

Проект будет полностью приведен к последнему зафиксированному состоянию.

> git commit

Откроется текстовый редактор по-умолчанию для того, чтобы добавить комментарий к коммиту. Распишите, что и зачем вы меняли. Но не перечисляйте список измененных файлов — гит сделает это за вас. Комментарий должен коротким и понятным.

Комментарии лучше писать на английском языке, в первую очередь потому, консоль может не поддерживать кириллицу.

Первая строка самая важная и должна включать суть коммита в нескольких словах. Дальше можете не жалеть строк и расписать подробно что, зачем и почему было изменено (речь про логику, а не про файлы).

Теперь можно посмотреть историю изменений, ваш коммит должен в ней отобразиться:

> git log

# Справочные материалы по Markdown.

Markdown — это язык текстовой разметки документов. Его придумали в 2004 году блогер Джон Грубер и интернет-активист Аарон Шварц, чтобы быстро форматировать статьи.

Смысл Markdown в том, что вы делаете разметку своего документа минимальными усилиями, а уже какой-то другой плагин или программа превращает вашу разметку в итоговый документ — например в HTML. Но можно и не в HTML, а в PDF или что-нибудь ещё. Markdown — это как бы язык для других программ, чтобы они формировали документы на основе вашего текста.

Единственное, что вам может понадобиться, — настроить в этом плагине шрифты, отступы и цвета, чтобы результат выглядел красиво. Один раз настраиваете, а потом быстро пишете много материалов, которые на выходе превратятся в готовые статьи с хорошей разметкой.

## Синтаксис.

1. Для оформления заголовков используют (#). 

#— заголовок первого уровня, ## — заголовок второго уровня, и так до шестого. 

## Это будет заголовком второго уровня (как Синтаксис в этом разделе)

2. Чтобы выделить слово курсивом, используют "*" либо "_" в начале и в конце:

*вот так*

3. Если нужно выделить сильнее, берут две (**):

**выделяем текст сильнее** 

4. Если необходимо полужирное курсивное начертание, применяют (***), например, 

***полужирное курсивное начертание***

5. Зачёркивают текст (~~):

~~зачеркнули и всё~~

6. Для оформления кода используют обратный апостроф (`)

`Пример кода` 

7. Чтобы сделать ненумерованный список, каждый элемент начинают с символов (*), например, 

* Список 1
* Список 2
* Список 3

8. Нумерованные списки делаются из цифры с точкой,смотрите:

1. Один
2. Два
3. Три

9. Ссылка состоит из текста ссылки и адреса. Текст пишется в квадратных скобках, а адрес — в круглых. То, что в кавычках, можно не писать и оставить в скобках только адрес:


10. Картинки вставляются точно так же, только добавляется восклицательный знак в самом начале:


Справочник по Markdown от Microsoft:
[https://docs.microsoft.com/ru-ru/contribute/markdown-reference](https://docs.microsoft.com/ru-ru/contribute/markdown-reference)

# Ветвление в Git - Основы ветвления и слияния.

## Введение

Ветвление стало неотъемлемой частью командной разработки, потому что оно дает возможность работать над разными версиями исходного кода. Основной идеей ветвления является отклонение от основного кода и продолжение работы независимо от него. Также это удобно в тестировании отдельного функционала, потому что позволяет работать над новой частью кода, не беспокоясь о поломке чего-то в рабочей версии. 

Под **веткой** принято понимать независимую последовательность коммитов в хронологическом порядке. Однако конкретно в Git реализация ветки выполнена как указатель на последний коммит в рассматриваемой ветке. 

Имя основной ветки Git— **master**, она появляется сразу при инициализации репозитория. Эта ветка ничем не отличается от остальных и также ее можно переименовать, но по договоренности **master** принято считать главной веткой в проекте.

## Команда git branch 

— главный инструмент для работы с ветвлением. С ее помощью можно добавлять новые ветки, перечислять и переименовывать существующие и удалять их.

## Способы создания веток и переключения между ними

Чтобы в Git добавить ветку мы используем:

> git branch <name of new branch>

После данной операции ветка уже была создана, но вы по-прежнему находитесь в прежней ветке. Если вы планируете переместиться на другую ветку, в том числе только что созданную, необходимо написать checkout:

> git checkout <name of branch>

Для того чтобы определить, где сейчас находится разработчик, Git использует специальный указатель (Head), ссылающийся на текущую локальную ветку, ветка подсвечивается "_зеленым цветом_". 

Чтобы проверить, какие ветки вы создали, необходимо написать:

> git branch

![branches.png](branches.png)

## Основы ветвления и слияния.

Ветвление позволяет разделять рабочий процесс, оптимизировать тестирование и написание нового кода. Однако после того, как разработчик убедился, что написанный им кусок кода готов и его можно отправить к остальной части итоговой версии, удобно переместить его в основную ветку. Такой подход дает возможность получить к концу разработки проекта целый продукт в одном месте.

Для этого в Git предусмотрено слияние — перенос изменений с одной ветки на другую. Однако сливаемая ветка (под этим определением мы подразумеваем ветку, у которой берем изменения для «вливания» их в другую ветвь) никак не меняется и остается в прежнем состоянии. Такие преобразования мы получаем, применив git merge:

> git merge <name of merged branch>

## Конфликт ветвлений.

Конфликты слияния происходят при слиянии ветвей, имеющих конкурирующие фиксации, и Git требуется ваша помощь, чтобы принять решение относительно того, какие изменения следует включить в окончательное слияние.

Часто конфликты слияния возникают, когда участники вносят разные изменения в одну строку одного файла или когда один участник редактирует файл, а другой — удаляет тот же файл: 

![conflict.png](conflict.png)

Чтобы устранить конфликт слияния, необходимо:

## Как удалить ветку.

Удаление веток не такой простой процесс, как может показаться. Можно случайно удалить несохраненные изменения в исходном коде, что приведет к нежелательным последствиям. Поэтому здесь нужно действовать осторожно. С операцией удаления над ветками справляется уже привычная команда:

> git branch -d <name of branch>

![deletebranch.png](deletebranch.png)

Для корректного удаления нужно помнить несколько правил, чтобы не получить ошибки:

1. Нельзя удалить ветку, в которой вы находитесь. Git выкинет ошибку и не произведет удаление. Следовательно, нужно перейти на другую ветку.

2. Git не позволит удалить ветку, у которой есть несохраненные изменения. Так мы избегаем ситуации, когда часть написанного кода будет безвозвратно утеряна. Если же мы уверены, что изменения в этой версии не нужны и их можно смело удалять, то вместо флага -d используем -D:

> git branch -D <name of branch>

Соблюдая все условия, нам удастся удалить указанную ветвь.

# Как получить помощь?

Если вам нужна помощь при использовании Git, необходимо открыть страницу руководcтва посредством команд:

> git help 

> git --help

> git help config

Эти команды хороши тем, что ими можно пользоваться всегда, даже без подключения к сети. Если руководства недостаточно и вам нужна персональная помощь, вы можете поискать её на сайте [https://libera.chat](https://libera.chat). Обычно там сотни людей, отлично знающих Git, которые могут помочь.

# Руководства

* Официальный учебник по Git:

  [https://git-scm.com/docs/gittutorial](https://git-scm.com/docs/gittutorial)

* Погружение в Git

  [https://gitimmersion.com](https://gitimmersion.com/)

* Повседневный Git:

  [https://git-scm.com/docs/giteveryday](https://git-scm.com/docs/giteveryday)

* Невыполненное руководство по Git:

  [https://nulab.com/learn/software-development/git-tutorial](https://nulab.com/learn/software-development/git-tutorial)


# Работа с удаленными репозиториями

## Что такое удаленный репозиторий?

**Удаленный (иногда говорят "внешний")репозиторий** – это версии вашего проекта, сохраненные на удаленном сервере. Доступ к репозиторию на таком сервере может осуществляться по интернету или по локальной сети.

Для того, чтобы внести вклад в какой-либо Git-проект, вам необходимо уметь работать с удалёнными репозиториями. У вас может быть несколько удалённых репозиториев, каждый из которых может быть доступен для чтения. Взаимодействие с другими пользователями предполагает управление удалёнными репозиториями, а также отправку и получение данных из них. Управление репозиториями включает в себя как умение добавлять новые, так и умение удалять устаревшие репозитории, а также умение управлять различными удалёнными ветками, объявлять их отслеживаемыми или нет и так далее. В данном разделе мы рассмотрим некоторые из этих навыков.

>Таким образом, чтобы стать полноценным пользователем Git, важно овладеть навыками работы с удаленным репозиторием. Среди них – создание новых и копирование к себе уже существующих удаленных репозиториев, загрузка на сервер локальных коммитов и скачивание изменения с сервера. Давайте изучим все это по порядку.

## Инструкция по внесению изменений в GitHub репозиторий. 

На GitHub для внесения изменений есть модель **Fork + Pull**.  Она позволяет подключиться к какому-либо Open Source проекту и вносить изменение/улучшение в него.

Суть заключается в том, что вы можете склонировать любой репозиторий к себе и разрабатывать свои изменения, после этого вы можете отправить запрос с ними автору изначального репозитория. Далее автор на свое усмотрение принимает ваши изменения или отвергает. 

1. Регистрируемся на сайте [https://github.com](https://github.com)



2. Сначала нам необходимо склонировать изначальный репозиторий. Для этого перейдем к нему и нажмем кнопку **Fork**

> _Форк (от англ. fork – вилка) – точная копия репозитория, но в вашем аккаунте. Форки нужны, чтобы вносить свои изменения в проект, к репозиторию которого у вас нет прямого доступа_

2. Далее склонированный репозиторий нужно скачать на свой компьютер, пример:

> git clone [ссылка на удаленный репозиторий]

> git clone https://github.com/maxim-stoma/gitHomeWork

3. После этого рекомендуется выполнить команду

> git status

4. Далее необходимо перейти в папку удаленного репозитория, нажав команду

> cd [название папки скопированного  репозитория]

5. Cоздать новую ветку и вносить изменения в нее.
> git branch [branch name]

> git checkout [branch name]

6. Далее нужно внести изменения в сам проект при помощи коммитов.

> git add 

> git commit -m "My commit"

7. После этого небходимо отправить изменения в копию репозитория на Github.

> git push 

Git может выдать ошибку, смотрите скрин, однако всегда мы должны читать, что пишет Git и следовать его команде, поэтому нажимаем, например:

> git push --set-upstream origin branch2

Теперь изменения находятся в копии репозитория на GitHub.

## Подготовка и реализация Pull Request.

_Пулл-реквест (от англ. pull-request – запрос pull) – функция GitHub, позволяющая попросить владельца репозитория, от которого мы сделали форк, загрузить наши изменения обратно в свой репозиторий_

1. Необходимо зайти на страницу копии репозитория и нажать на кнопку **Compare & Pull Request**.

2. Далее открывается предпросмотровая страница, на которой можно ввести название и описание изменений.

3. Также на панели сверху можно выбрать в какую ветку будут вливаться изменения в родительском репозитории и какие изменения будут браться с удаленного репозитория:

4. Также ниже можно увидеть список сделанных коммитов:

5. После проверки изменений нужно нажать на кнопку **Create pull request**

6. Далее открывается страница с **Pull Request**, где можно посмотреть информацию об изменениях, его состоянии, также его можно прокомментировать или закрыть

7. Также на странице изначального репозитория можно перейти на вкладку "Pull requstes" и увидеть все запросы на внесение изменений.

_Именно так будет выглядеть наш пулл-реквест и для владельца репозитория. На этой странице он сможет писать комментарии, указывая на ошибки или задавая вопросы. После того, как владелец репозитория просмотрит наши изменения и убедится, что они не имеют вредоносный характер, он сможет принять наш пулл-реквест. Тогда все изменения, добавленные в этот пулл-реквест нами, будут залиты в исходный репозиторий_.

## Настройка подключения удаленного репозитория. Группа команд git remote.

Необходимость подключить удаленный репозиторий к уже существующему локальному возникает в ситуациях, когда вы решаете выгрузить уже написанный код на удаленный сервер. Это нужно, чтобы другие разработчики смогли получить к нему доступ или чтобы вы сами могли заниматься разработкой с нескольких компьютеров (например, домашнего и рабочего).

Для управления подключением удаленных репозиториев в Git предусмотрена целая группа команд – git remote. Мы рассмотрим самые частоиспользуемые команды из этой группы.

### Добавление удаленного репозитория к существующему локальному. Команда git remote add.

Давайте разберемся, как добавить удаленный репозиторий к вашему локальному репозиторию. 

Для этого в Git есть команда 

> git remote add

Имя удаленного репозитория в команде git remote add вы можете придумать сами. Впоследствии, при работе с этим удаленным репозиторием, вы будете обращаться к нему по придуманному имени. Принято называть удаленный репозиторий origin, но строго говоря, никаких ограничений здесь нет.

Со ссылкой на удаленный репозиторий тоже все просто. Мы работаем с GitHub, поэтому эту ссылку можно взять, нажав на большую зеленую кнопку Code на странице репозитория на GitHub.

Вам предложат выбрать одну из трех ссылок: для протоколов https и ssh и для клиента GitHub на компьютер. Вот примеры этих трех ссылок для репозитория geometric_lib известного вам по практическим занятиям этого курса:

[HTTPS-ссылка](https://github.com/smartiqaorg/geometric_lib.git)

[SSH-ссылка](git@github.com:smartiqaorg/geometric_lib.git)

[GitHub CLI ссылка: gh repo clone smartiqaorg/geometric_lib]

> В чем отличие этих трех ссылок можно прочитать на сайте [https://smartiqa.ru/courses/git/lesson-6](https://smartiqa.ru/courses/git/lesson-6)


### Отключение удаленного репозитория от локального

Иногда возникает необходимость забыть удаленный репозиторий. Для этого существует команда 

> git remote remove

Данная команда предельно проста в использовании. В качестве имени репозитория нужно передавать то имя, которое вы указывали в команде git remote add. Заметьте, данная команда не удаляет удаленный репозиторий с сервера, она удаляет только подключение вашего репозитория к удаленному.

### Изменение имени удаленного репозитория. Просмотр всех удаленных репозиториев. Команды git remote rename, git remote show

Иногда возникает необходимость переименовать удаленный репозиторий. Для этого существует команда 
> git remote rename

Еще более частая задача – просмотреть список всех подключенных удаленных репозиториев и получить информацию о каждом из них. Для этого существует команда 

> git remote show

### Получение изменений из удаленного репозитория. Команда git pull

Часто хочется получать изменения и сразу обновлять рабочую копию так, чтобы она соответствовала удаленному репозиторию. И для этого в Git существует отдельная команда
> git pull

**Таким образом, вы можете вносить свой вклад в абсолютно любые приложения с открытым программным кодом. Даже репозиторий самого Git хранится на GitHub, и вы в любой момент можете сделать форк и придумать новую команду (правда не факт, что ответственный примет ваш пулл-реквест).Вы можете внести свой вклад в разработку ядра Linux, в популярный редактор Visual Studio Code, в ядро криптовалюты Bitcoin, в языки программирования Python, Go, Ruby – все эти проекты имеют открытые репозитории на GitHub.** 
